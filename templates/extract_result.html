{% extends "base.html" %}
{% block title %}Evaluation Results{% endblock %}
{% block content %}
<div class="container mt-5">
    <div class="card p-4">
        {% if table %}
        <h4 class="mb-3 text-success">Extracted CSV Preview</h4>

        <!-- Button Row -->
        <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
            <!-- Download CSV button on the left -->
            <form method="POST" action="/download_csv" class="m-0">
                <textarea name="csv_data" style="display: none;">{{ csv_data }}</textarea>
                <button class="btn btn-outline-primary">Download CSV</button>
            </form>

            <!-- Evaluate CSV button on the right -->
            <form method="POST" action="/evaluate" class="m-0">
                <textarea name="csv_data" style="display:none;">{{ csv_data }}</textarea>
                <button class="btn btn-success">Evaluate this CSV</button>
            </form>
        </div>

        <!-- Table Preview -->
        <div class="table-responsive mt-3">
            <table class="table table-sm table-bordered table-striped align-middle shadow-sm rounded" style="overflow-x: auto;">
                {{ table | safe }}
            </table>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
